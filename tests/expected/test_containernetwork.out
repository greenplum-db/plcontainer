\! plcontainer runtime-add -r plc_python3_shared_net -i pivotaldata/plcontainer_python3_shared:devel -l python3 --setting enable_network=yes
20220519:10:46:32:036380 plcontainer:fluorite:sa-[INFO]:-Distributing file plcontainer_configuration.xml to all locations...
20220519:10:46:32:036380 plcontainer:fluorite:sa-[INFO]:-Configuration has changed. Run "select * from plcontainer_refresh_config" in open sessions. New sessions will get new configuration automatically.
CREATE FUNCTION access_network_err() RETURNS int AS $$
  # container: plc_python3_shared
  import urllib.request
  try:
    return urllib.request.urlopen("https://www.vmware.com/").status
  except:
    return 0
$$ LANGUAGE plcontainer;
CREATE FUNCTION access_network_ok() RETURNS int AS $$
  # container: plc_python3_shared_net
  import urllib.request
  return urllib.request.urlopen("https://www.vmware.com/").status
$$ LANGUAGE plcontainer;
select * from access_network_err();
 access_network_err 
--------------------
                  0
(1 row)

select * from access_network_ok();
 access_network_ok 
-------------------
               200
(1 row)

drop function access_network_err();
drop function access_network_ok();
\! plcontainer runtime-delete -r plc_python3_shared_net
20220519:10:46:34:036830 plcontainer:fluorite:sa-[INFO]:-Distributing file plcontainer_configuration.xml to all locations...
20220519:10:46:35:036830 plcontainer:fluorite:sa-[INFO]:-Configuration has changed. Run "select * from plcontainer_refresh_config" in open sessions. New sessions will get new configuration automatically.
